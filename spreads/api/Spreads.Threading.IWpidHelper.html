<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interface IWpidHelper
   | DataSpreads! documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Interface IWpidHelper
   | DataSpreads! documentation ">
    <meta name="generator" content="docfx 2.40.7.0">
    
    <link rel="shortcut icon" href="../../images/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Spreads.Threading.IWpidHelper">
  
  
  <h1 id="Spreads_Threading_IWpidHelper" data-uid="Spreads.Threading.IWpidHelper" class="text-break">Interface IWpidHelper
  </h1>
  <div class="markdown level0 summary"><p>Helper methods for <a class="xref" href="Spreads.Threading.SharedSpinLock.html">SharedSpinLock</a> and <a class="xref" href="Spreads.Threading.Wpid.html">Wpid</a>.
Thinks of this interface as a collection of delegates and not as an object.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Spreads.Threading.html">Spreads.Threading</a></h6>
  <h6><strong>Assembly</strong>: Spreads.Core.dll</h6>
  <h5 id="Spreads_Threading_IWpidHelper_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IWpidHelper</code></pre>
  </div>
  <h3 id="properties">Properties
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Spreads/Spreads/new/master/docs/apidocs/new?filename=Spreads_Threading_IWpidHelper_MyWpid.md&amp;value=---%0Auid%3A%20Spreads.Threading.IWpidHelper.MyWpid%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/Spreads/Spreads/blob/master/src/Spreads.Core/Threading/SharedSpinLock.cs/#L22">View Source</a>
  </span>
  <a id="Spreads_Threading_IWpidHelper_MyWpid_" data-uid="Spreads.Threading.IWpidHelper.MyWpid*"></a>
  <h4 id="Spreads_Threading_IWpidHelper_MyWpid" data-uid="Spreads.Threading.IWpidHelper.MyWpid">MyWpid</h4>
  <div class="markdown level1 summary"><p><a class="xref" href="Spreads.Threading.Wpid.html">Wpid</a> of this helper.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Wpid MyWpid { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Spreads.Threading.Wpid.html">Wpid</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Spreads/Spreads/new/master/docs/apidocs/new?filename=Spreads_Threading_IWpidHelper_IsWpidAlive_Spreads_Threading_Wpid_.md&amp;value=---%0Auid%3A%20Spreads.Threading.IWpidHelper.IsWpidAlive(Spreads.Threading.Wpid)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/Spreads/Spreads/blob/master/src/Spreads.Core/Threading/SharedSpinLock.cs/#L48">View Source</a>
  </span>
  <a id="Spreads_Threading_IWpidHelper_IsWpidAlive_" data-uid="Spreads.Threading.IWpidHelper.IsWpidAlive*"></a>
  <h4 id="Spreads_Threading_IWpidHelper_IsWpidAlive_Spreads_Threading_Wpid_" data-uid="Spreads.Threading.IWpidHelper.IsWpidAlive(Spreads.Threading.Wpid)">IsWpidAlive(Wpid)</h4>
  <div class="markdown level1 summary"><p>Both <a class="xref" href="Spreads.Threading.Wpid.html#Spreads_Threading_Wpid_Pid">Pid</a> and <a class="xref" href="Spreads.Threading.Wpid.html#Spreads_Threading_Wpid_InstanceId">InstanceId</a> must be alive.
<a class="xref" href="Spreads.Threading.Wpid.html#Spreads_Threading_Wpid_Pid">Pid</a> is checked with <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.diagnostics.process.getprocessbyid#System_Diagnostics_Process_GetProcessById_System_Int32_">GetProcessById(Int32)</a>
and <a class="xref" href="Spreads.Threading.Wpid.html#Spreads_Threading_Wpid_InstanceId">InstanceId</a> is checked according to some application logic.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool IsWpidAlive(Wpid wpid)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Spreads.Threading.Wpid.html">Wpid</a></td>
        <td><span class="parametername">wpid</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Spreads_Threading_IWpidHelper_IsWpidAlive_Spreads_Threading_Wpid__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>It should not be possible that InstanceId is alive while Pid is not, while the same
system process could have multiple logical instances. If Pid is dead then we could
return false immediately. If Pid is alive but InstanceId is not then we should wait longer.
Check should be something like:</p>
<ol>
<li>Return true if InstanceId heartbeat is less then a small limit. This should be a very fast check.</li>
<li>Consult <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.diagnostics.process.getprocessbyid#System_Diagnostics_Process_GetProcessById_System_Int32_">GetProcessById(Int32)</a> to check if Pid part of <code data-dev-comment-type="paramref" class="paramref">wpid</code> is alive.
Return false if not (additionally mark logical instance as dead to help other processes and speed up clean up).</li>
<li>Repeat 1-2 up to some counter limit so that total time account for any realistic delay in heartbeat update,
e.g. assume that heartbeat is updated by a lower-priority thread than other threads that are occupying 100% of CPU.</li>
</ol>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Spreads/Spreads/new/master/docs/apidocs/new?filename=Spreads_Threading_IWpidHelper_OnForceUnlock_Spreads_Threading_Wpid_.md&amp;value=---%0Auid%3A%20Spreads.Threading.IWpidHelper.OnForceUnlock(Spreads.Threading.Wpid)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/Spreads/Spreads/blob/master/src/Spreads.Core/Threading/SharedSpinLock.cs/#L60">View Source</a>
  </span>
  <a id="Spreads_Threading_IWpidHelper_OnForceUnlock_" data-uid="Spreads.Threading.IWpidHelper.OnForceUnlock*"></a>
  <h4 id="Spreads_Threading_IWpidHelper_OnForceUnlock_Spreads_Threading_Wpid_" data-uid="Spreads.Threading.IWpidHelper.OnForceUnlock(Spreads.Threading.Wpid)">OnForceUnlock(Wpid)</h4>
  <div class="markdown level1 summary"><p>Notify that <a class="xref" href="Spreads.Threading.SharedSpinLock.html">SharedSpinLock</a> has detected dead lock holder and unlocked it.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void OnForceUnlock(Wpid wpid)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Spreads.Threading.Wpid.html">Wpid</a></td>
        <td><span class="parametername">wpid</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Spreads/Spreads/new/master/docs/apidocs/new?filename=Spreads_Threading_IWpidHelper_Suicide.md&amp;value=---%0Auid%3A%20Spreads.Threading.IWpidHelper.Suicide%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/Spreads/Spreads/blob/master/src/Spreads.Core/Threading/SharedSpinLock.cs/#L54">View Source</a>
  </span>
  <a id="Spreads_Threading_IWpidHelper_Suicide_" data-uid="Spreads.Threading.IWpidHelper.Suicide*"></a>
  <h4 id="Spreads_Threading_IWpidHelper_Suicide" data-uid="Spreads.Threading.IWpidHelper.Suicide">Suicide()</h4>
  <div class="markdown level1 summary"><p>Declare logical instance of this helper as dead.
<a class="xref" href="Spreads.Threading.IWpidHelper.html#Spreads_Threading_IWpidHelper_IsWpidAlive_Spreads_Threading_Wpid_">IsWpidAlive(Wpid)</a> should always return <span class="xref">false</span> for <a class="xref" href="Spreads.Threading.Wpid.html">Wpid</a> of this helper.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void Suicide()</code></pre>
  </div>
<div id="disqus_thread"></div>
                <script>
                (function() {  // DON'T EDIT BELOW THIS LINE
                    var d = document, s = d.createElement('script');
                    
                    s.src = 'https://dataspreads-documentation.disqus.com/embed.js';
                    
                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a target="_blank" rel="noopener noreferrer" href="https://github.com/Spreads/Spreads/new/master/docs/apidocs/new?filename=Spreads_Threading_IWpidHelper.md&amp;value=---%0Auid%3A%20Spreads.Threading.IWpidHelper%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a target="_blank" rel="noopener noreferrer" href="https://github.com/Spreads/Spreads/blob/master/src/Spreads.Core/Threading/SharedSpinLock.cs/#L17" class="contribution-link">View Source</a>
                  </li>
                  <li>
                    <a href="#disqus_thread" class="contribution-link">Comment</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © 2014-2019 DataSpreads.io</span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    <script id="dsq-count-scr" src="//dataspreads-documentation.disqus.com/count.js" async=""></script>
    
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-132456873-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    
    gtag('config', 'UA-132456873-1');
    </script>
  </body>
</html>
